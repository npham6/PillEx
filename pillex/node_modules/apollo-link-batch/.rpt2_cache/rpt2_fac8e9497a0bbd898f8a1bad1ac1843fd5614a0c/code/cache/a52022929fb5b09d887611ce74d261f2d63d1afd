{"map":"{\"version\":3,\"file\":\"batchLink.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/batchLink.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EACL,UAAU,GAKX,MAAM,aAAa,CAAC;AACrB,OAAO,EAAE,gBAAgB,EAAgB,MAAM,YAAY,CAAC;AAE5D,OAAO,EAAE,gBAAgB,EAAkC,MAAM,YAAY,CAAC;AA8B9E;IAA+B,qCAAU;IAGvC,mBAAY,WAAmC;QAAnC,4BAAA,EAAA,gBAAmC;QAA/C,YACE,iBAAO,SAoBR;QAjBG,IAAA,8BAAkB,EAAlB,uCAAkB,EAClB,yBAAY,EAAZ,iCAAY,EACZ,6BAAyB,EAAzB,gEAAyB,EACzB,yBAAmB,EAAnB,0DAAmB,CACL;QAEhB,KAAI,CAAC,OAAO,GAAG,IAAI,gBAAgB,CAAC;YAClC,aAAa,eAAA;YACb,QAAQ,UAAA;YACR,YAAY,cAAA;YACZ,QAAQ,UAAA;SACT,CAAC,CAAC;QAGH,IAAI,WAAW,CAAC,YAAY,CAAC,MAAM,IAAI,CAAC,EAAE;YACxC,KAAI,CAAC,OAAO,GAAG,UAAA,SAAS,IAAI,OAAA,KAAI,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,SAAS,WAAA,EAAE,CAAC,EAA1C,CAA0C,CAAC;SACxE;;IACH,CAAC;IAEM,2BAAO,GAAd,UACE,SAAoB,EACpB,OAAkB;QAElB,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC;YACjC,SAAS,WAAA;YACT,OAAO,SAAA;SACR,CAAC,CAAC;IACL,CAAC;IACH,gBAAC;AAAD,CAAC,AAnCD,CAA+B,UAAU,GAmCxC\"}","code":"import * as tslib_1 from \"tslib\";\r\nimport { ApolloLink, } from 'apollo-link';\r\nimport { OperationBatcher } from './batching';\r\nexport { OperationBatcher } from './batching';\r\nvar BatchLink = (function (_super) {\r\n    tslib_1.__extends(BatchLink, _super);\r\n    function BatchLink(fetchParams) {\r\n        if (fetchParams === void 0) { fetchParams = {}; }\r\n        var _this = _super.call(this) || this;\r\n        var _a = fetchParams.batchInterval, batchInterval = _a === void 0 ? 10 : _a, _b = fetchParams.batchMax, batchMax = _b === void 0 ? 0 : _b, _c = fetchParams.batchHandler, batchHandler = _c === void 0 ? function () { return null; } : _c, _d = fetchParams.batchKey, batchKey = _d === void 0 ? function () { return ''; } : _d;\r\n        _this.batcher = new OperationBatcher({\r\n            batchInterval: batchInterval,\r\n            batchMax: batchMax,\r\n            batchHandler: batchHandler,\r\n            batchKey: batchKey,\r\n        });\r\n        if (fetchParams.batchHandler.length <= 1) {\r\n            _this.request = function (operation) { return _this.batcher.enqueueRequest({ operation: operation }); };\r\n        }\r\n        return _this;\r\n    }\r\n    BatchLink.prototype.request = function (operation, forward) {\r\n        return this.batcher.enqueueRequest({\r\n            operation: operation,\r\n            forward: forward,\r\n        });\r\n    };\r\n    return BatchLink;\r\n}(ApolloLink));\r\nexport { BatchLink };\r\n//# sourceMappingURL=batchLink.js.map","dtsmap":{"name":"/Users/hwillson/Documents/git/apollo/apollo-link/packages/apollo-link-batch/batchLink.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"batchLink.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"src/batchLink.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EACL,UAAU,EACV,SAAS,EACT,WAAW,EACX,UAAU,EACV,QAAQ,EACT,MAAM,aAAa,CAAC;AACrB,OAAO,EAAoB,YAAY,EAAE,MAAM,YAAY,CAAC;AAE5D,OAAO,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,YAAY,EAAE,MAAM,YAAY,CAAC;AAE9E,yBAAiB,SAAS,CAAC;IACzB,UAAiB,OAAO;QAMtB,aAAa,CAAC,EAAE,MAAM,CAAC;QAOvB,QAAQ,CAAC,EAAE,MAAM,CAAC;QAKlB,YAAY,CAAC,EAAE,YAAY,CAAC;QAK5B,QAAQ,CAAC,EAAE,CAAC,SAAS,EAAE,SAAS,KAAK,MAAM,CAAC;KAC7C;CACF;AAED,qBAAa,SAAU,SAAQ,UAAU;IACvC,OAAO,CAAC,OAAO,CAAmB;gBAEtB,WAAW,GAAE,SAAS,CAAC,OAAY;IAuBxC,OAAO,CACZ,SAAS,EAAE,SAAS,EACpB,OAAO,CAAC,EAAE,QAAQ,GACjB,UAAU,CAAC,WAAW,CAAC,GAAG,IAAI;CAMlC\"}"},"dts":{"name":"/Users/hwillson/Documents/git/apollo/apollo-link/packages/apollo-link-batch/batchLink.d.ts","writeByteOrderMark":false,"text":"import { ApolloLink, Operation, FetchResult, Observable, NextLink } from 'apollo-link';\r\nimport { BatchHandler } from './batching';\r\nexport { OperationBatcher, BatchableRequest, BatchHandler } from './batching';\r\nexport declare namespace BatchLink {\r\n    interface Options {\r\n        batchInterval?: number;\r\n        batchMax?: number;\r\n        batchHandler?: BatchHandler;\r\n        batchKey?: (operation: Operation) => string;\r\n    }\r\n}\r\nexport declare class BatchLink extends ApolloLink {\r\n    private batcher;\r\n    constructor(fetchParams?: BatchLink.Options);\r\n    request(operation: Operation, forward?: NextLink): Observable<FetchResult> | null;\r\n}\r\n//# sourceMappingURL=batchLink.d.ts.map"}}
